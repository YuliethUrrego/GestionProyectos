@page "/login"

@using GestionProyectos.Shared.Entities;
@using GestionProyectos.Client.Services;

@* @inject IAuthenticationService AuthenticationService *@
@inject NavigationManager NavigationManager

@inject IUsuario usuarioService;
@inject IAdministrador administradorService;

<PageTitle>Login</PageTitle>

<EditForm Model="@loginModel" OnValidSubmit="HandleValidSubmit" class="modal">
    <DataAnnotationsValidator></DataAnnotationsValidator>

    <div class="login-container">
        <h2>Gestión de proyectos</h2>
        <h3>INGRESAR</h3>
        <p>Ingrese sus credenciales para acceder al sistema</p>

        <div class="form-group">
            <label class="form-label" for="email">Email</label>
            <InputText id="email" class="form-control" @bind-Value="loginModel.Email" placeholder="Ingrese su email" />
            <ValidationMessage For="@(() => loginModel.Email)"></ValidationMessage>
        </div>
        <div class="form-group">
            <label class="form-label" for="password">Contraseña</label>
            <InputText id="password" type="password" class="form-control" @bind-Value="loginModel.Contrasenia" placeholder="Ingrese su contraseña" />
            <ValidationMessage For="@(() => loginModel.Contrasenia)"></ValidationMessage>
        </div>

        @* <button type="submit" class="btn btn-primary">INGRESAR</button> *@
        <a class="btn btn btn-primary" href="/">INGRESAR</a>

        <p>¿No tienes una cuenta? <a href="/registro">Regístrate como administrador</a></p>
    </div>
</EditForm>

@code {
    public PersonaE loginModel = new PersonaE();

    private async Task HandleValidSubmit()
    {
        NavigationManager.NavigateTo("/");
    }

}
